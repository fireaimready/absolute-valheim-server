# =============================================================================
# Absolute Valheim Server - Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your server.
# All values shown are defaults unless otherwise noted.
# =============================================================================

# -----------------------------------------------------------------------------
# SERVER SETTINGS
# -----------------------------------------------------------------------------

# Server name displayed in the server browser
SERVER_NAME=My Valheim Server

# UDP port for game traffic (ports +1 and +2 are also used)
# Default: 2456 (uses 2456, 2457, 2458)
SERVER_PORT=2456

# World name (filename without extension)
# This is the name of your world save file
WORLD_NAME=Dedicated

# Server password (REQUIRED - minimum 5 characters)
# Leave empty for no password (not recommended for public servers)
SERVER_PASS=

# Whether the server appears in the public server browser
# Set to false for a private server (connect via IP only)
SERVER_PUBLIC=true

# Enable crossplay support for Xbox/Microsoft Store players
# Requires port 2458 to be forwarded
CROSSPLAY=false

# Additional server arguments (advanced)
# Example: -preset hard -modifiers combat hard
SERVER_ARGS=

# -----------------------------------------------------------------------------
# UPDATE SETTINGS
# -----------------------------------------------------------------------------

# Automatically update server files on container start/restart
UPDATE_ON_START=true

# Maximum time (seconds) to wait for update to complete
# Default: 900 (15 minutes)
UPDATE_TIMEOUT=900

# Cron schedule for automatic updates during runtime
# Leave empty to disable runtime update checks
# Example: */30 * * * * (every 30 minutes)
UPDATE_CRON=

# Only update when no players are connected
UPDATE_IF_IDLE=true

# Additional SteamCMD arguments for updates
# Default: validate (verifies all files)
STEAMCMD_ARGS=validate

# -----------------------------------------------------------------------------
# BACKUP SETTINGS
# -----------------------------------------------------------------------------

# Enable automatic backups
BACKUPS_ENABLED=true

# Cron schedule for backups
# Default: 0 * * * * (every hour at minute 0)
BACKUPS_CRON=0 * * * *

# Backup storage directory (inside container)
BACKUPS_DIRECTORY=/config/backups

# Maximum age of backups in days (0 = no limit)
BACKUPS_MAX_AGE=3

# Maximum number of backups to keep (0 = no limit)
# Oldest backups are deleted first when limit is reached
BACKUPS_MAX_COUNT=0

# Compress backups using ZIP (true) or TAR.GZ (false)
BACKUPS_ZIP=true

# Only backup when no players are connected
# Set to true to avoid backing up during active play
BACKUPS_IF_IDLE=false

# -----------------------------------------------------------------------------
# PERMISSION SETTINGS
# -----------------------------------------------------------------------------

# User ID to run the server as
# Match this to your host user for proper file permissions
PUID=1000

# Group ID to run the server as
PGID=1000

# File creation umask
PERMISSIONS_UMASK=022

# -----------------------------------------------------------------------------
# USER MANAGEMENT
# -----------------------------------------------------------------------------
# Space-separated list of SteamID64s
# Find your SteamID64 at: https://steamid.io/

# Server administrators (can kick/ban players, manage server)
ADMINLIST_IDS=

# Banned players (cannot connect to server)
BANNEDLIST_IDS=

# Permitted players (whitelist - if set, ONLY these players can join)
# Leave empty to allow anyone with the password
PERMITTEDLIST_IDS=

# -----------------------------------------------------------------------------
# SYSTEM SETTINGS
# -----------------------------------------------------------------------------

# Container timezone
# See: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TZ=Etc/UTC

# -----------------------------------------------------------------------------
# LOG FILTERING
# -----------------------------------------------------------------------------

# Filter empty lines from server output
LOG_FILTER_EMPTY=true

# Filter invalid UTF-8 characters (binary noise)
LOG_FILTER_UTF8=true

# Additional patterns to filter (pipe-separated)
# Example: "Shader|texture|Missing"
LOG_FILTER_CONTAINS=
